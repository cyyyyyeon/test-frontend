# 前端自定义测试功能测试方案

## 1. 测试概述

### 1.1 测试目标
对前端三个页面的自定义测试功能进行全面功能性测试，确保：
- 数据输入功能正常
- 表单验证正确
- 测试执行流程完整
- 结果展示准确
- 用户体验良好

### 1.2 测试范围
- **IdentityTest.vue**: 身份风险评估接口自定义测试
- **FusionTest.vue**: 多模态融合接口自定义测试  
- **FaceVizTest.vue**: 人脸可视化接口自定义测试

## 2. 测试用例设计

### 2.1 IdentityTest.vue 自定义测试功能测试

#### 2.1.1 交易序列数据输入测试

**测试用例 ID**: ID_CUSTOM_001  
**测试标题**: 快速填入功能测试  
**前置条件**: 进入IdentityTest页面，切换到自定义测试标签  
**测试步骤**:
1. 点击"正常示例"按钮
2. 点击"随机生成"按钮  
3. 点击"清空"按钮
4. 观察数据表格变化

**预期结果**:
- 正常示例：显示3行标准数据
- 随机生成：显示2-6行随机数据
- 清空：表格清空，显示"暂无数据"提示

---

**测试用例 ID**: ID_CUSTOM_002  
**测试标题**: 交易序列表格编辑测试  
**前置条件**: 已填入交易序列数据  
**测试步骤**:
1. 点击"添加行"按钮
2. 修改表格中的数值
3. 点击"删除行"按钮删除最后一行
4. 点击某行的"×"按钮删除指定行

**预期结果**:
- 添加行：新增一行全0数据
- 修改数值：实时更新JSON预览
- 删除行：正确删除对应行
- 删除指定行：正确删除选中行

---

**测试用例 ID**: ID_CUSTOM_003  
**测试标题**: CSV文件上传测试  
**前置条件**: 准备有效的交易序列CSV文件  
**测试步骤**:
1. 点击"上传交易CSV"按钮
2. 选择CSV文件
3. 观察数据表格更新

**预期结果**:
- 成功解析CSV数据
- 表格显示解析后的数据
- JSON预览同步更新

#### 2.1.2 用户信息数据输入测试

**测试用例 ID**: ID_CUSTOM_004  
**测试标题**: 用户特征数量控制测试  
**前置条件**: 进入自定义测试页面  
**测试步骤**:
1. 修改"特征数量"输入框的值
2. 观察用户特征输入框的变化

**预期结果**:
- 增加数量：新增对应数量的输入框
- 减少数量：删除多余的输入框
- 输入框数量与设置值一致

---

**测试用例 ID**: ID_CUSTOM_005  
**测试标题**: 用户信息CSV上传测试  
**前置条件**: 准备有效的用户信息CSV文件  
**测试步骤**:
1. 点击"上传用户CSV"按钮
2. 选择CSV文件
3. 观察用户特征输入框更新

**预期结果**:
- 成功解析CSV数据
- 用户特征输入框显示解析后的数据
- 特征数量自动调整

#### 2.1.3 数据验证测试

**测试用例 ID**: ID_CUSTOM_006  
**测试标题**: 空数据验证测试  
**前置条件**: 清空所有数据  
**测试步骤**:
1. 不输入任何数据
2. 点击"运行测试"按钮

**预期结果**:
- 显示错误提示："交易序列数据为空，请添加数据或使用快速填入功能"
- 测试不执行

---

**测试用例 ID**: ID_CUSTOM_007  
**测试标题**: 数据格式验证测试  
**前置条件**: 输入无效数据  
**测试步骤**:
1. 在交易序列中输入非数字字符
2. 在用户信息中输入非数字字符
3. 点击"运行测试"按钮

**预期结果**:
- 系统正确处理非数字输入
- 数字类型自动转换
- 非数字类型保持原值

#### 2.1.4 测试执行测试

**测试用例 ID**: ID_CUSTOM_008  
**测试标题**: 成功测试执行  
**前置条件**: 输入有效的测试数据，预期结果选择"成功"  
**测试步骤**:
1. 填入有效的交易序列和用户信息
2. 选择预期结果"成功"
3. 点击"运行测试"按钮

**预期结果**:
- 显示加载状态
- 成功调用API
- 显示测试结果
- 测试状态显示"符合预期"

---

**测试用例 ID**: ID_CUSTOM_009  
**测试标题**: 错误测试执行  
**前置条件**: 输入无效数据，预期结果选择"错误"  
**测试步骤**:
1. 填入无效的测试数据
2. 选择预期结果"错误"
3. 点击"运行测试"按钮

**预期结果**:
- 显示加载状态
- API调用失败
- 显示错误信息
- 测试状态显示"符合预期"

#### 2.1.5 表单重置测试

**测试用例 ID**: ID_CUSTOM_010  
**测试标题**: 重置功能测试  
**前置条件**: 已填入各种测试数据  
**测试步骤**:
1. 点击"重置"按钮

**预期结果**:
- 所有输入框清空
- 交易序列表格清空
- 用户特征数量恢复为3
- JSON预览显示空数据

### 2.2 FusionTest.vue 自定义测试功能测试

#### 2.2.1 用户1数据输入测试

**测试用例 ID**: FU_CUSTOM_001  
**测试标题**: 用户1人脸图像输入测试  
**前置条件**: 进入FusionTest页面，切换到自定义测试标签  
**测试步骤**:
1. 在"人脸图像"输入框中输入文件名
2. 观察输入框状态

**预期结果**:
- 输入框正常接收输入
- 显示正确的占位符文本
- 图标显示正确

---

**测试用例 ID**: FU_CUSTOM_002  
**测试标题**: 用户1声纹音频输入测试  
**测试步骤**:
1. 在"声纹音频"输入框中输入文件名
2. 观察输入框状态

**预期结果**:
- 输入框正常接收输入
- 显示"支持WAV格式"提示
- 麦克风图标显示正确

---

**测试用例 ID**: FU_CUSTOM_003  
**测试标题**: 用户1指纹图像输入测试  
**测试步骤**:
1. 在"指纹图像"输入框中输入文件名
2. 观察输入框状态

**预期结果**:
- 输入框正常接收输入
- 显示"支持JPG格式"提示
- 印章图标显示正确

#### 2.2.2 用户2数据输入测试

**测试用例 ID**: FU_CUSTOM_004  
**测试标题**: 用户2数据输入测试  
**测试步骤**:
1. 在用户2的所有输入框中输入文件名
2. 观察输入框状态

**预期结果**:
- 所有输入框正常接收输入
- 显示正确的格式提示
- 图标显示正确

#### 2.2.3 预期结果选择测试

**测试用例 ID**: FU_CUSTOM_005  
**测试标题**: 预期结果单选测试  
**测试步骤**:
1. 依次选择"同一个人"、"不同人"、"错误"
2. 观察单选按钮状态

**预期结果**:
- 单选按钮正常切换
- 选中状态显示正确
- 只能选择一个选项

#### 2.2.4 测试执行测试

**测试用例 ID**: FU_CUSTOM_006  
**测试标题**: 完整测试执行  
**前置条件**: 填入完整的测试数据  
**测试步骤**:
1. 填入用户1和用户2的所有数据
2. 选择预期结果
3. 点击"运行测试"按钮

**预期结果**:
- 显示加载状态
- 成功调用API
- 显示测试结果
- 测试状态正确显示

#### 2.2.5 表单重置测试

**测试用例 ID**: FU_CUSTOM_007  
**测试标题**: 重置功能测试  
**前置条件**: 已填入测试数据  
**测试步骤**:
1. 点击"重置"按钮

**预期结果**:
- 所有输入框清空
- 预期结果恢复默认值

### 2.3 FaceVizTest.vue 自定义测试功能测试

#### 2.3.1 图像数据输入测试

**测试用例 ID**: FV_CUSTOM_001  
**测试标题**: 图像1输入测试  
**前置条件**: 进入FaceVizTest页面，切换到自定义测试标签  
**测试步骤**:
1. 在"图像1"的人脸图像输入框中输入文件名
2. 观察输入框状态

**预期结果**:
- 输入框正常接收输入
- 显示"支持PNG格式"提示
- 图标显示正确

---

**测试用例 ID**: FV_CUSTOM_002  
**测试标题**: 图像2输入测试  
**测试步骤**:
1. 在"图像2"的人脸图像输入框中输入文件名
2. 观察输入框状态

**预期结果**:
- 输入框正常接收输入
- 显示"支持PNG格式"提示
- 图标显示正确

#### 2.3.2 预期结果选择测试

**测试用例 ID**: FV_CUSTOM_003  
**测试标题**: 预期结果单选测试  
**测试步骤**:
1. 依次选择"同一个人"、"不同人"、"错误"
2. 观察单选按钮状态

**预期结果**:
- 单选按钮正常切换
- 选中状态显示正确
- 只能选择一个选项

#### 2.3.3 测试执行测试

**测试用例 ID**: FV_CUSTOM_004  
**测试标题**: 完整测试执行  
**前置条件**: 填入完整的测试数据  
**测试步骤**:
1. 填入图像1和图像2的文件名
2. 选择预期结果
3. 点击"运行测试"按钮

**预期结果**:
- 显示加载状态
- 成功调用API
- 显示测试结果
- 显示相似度得分
- 显示热力图可视化结果

#### 2.3.4 表单重置测试

**测试用例 ID**: FV_CUSTOM_005  
**测试标题**: 重置功能测试  
**前置条件**: 已填入测试数据  
**测试步骤**:
1. 点击"重置"按钮

**预期结果**:
- 所有输入框清空
- 预期结果恢复默认值

## 3. 测试执行计划

### 3.1 测试环境准备
1. 启动前端开发服务器
2. 启动后端API服务
3. 准备测试数据文件
4. 准备测试工具（浏览器开发者工具）

### 3.2 测试执行顺序
1. **基础功能测试**: 先测试各页面的基础输入功能
2. **数据验证测试**: 测试各种边界条件和异常情况
3. **集成测试**: 测试完整的测试执行流程
4. **用户体验测试**: 测试界面交互和响应

### 3.3 测试数据准备
- 有效的CSV文件
- 无效的CSV文件
- 各种格式的测试数据
- 边界值测试数据

## 4. 测试报告模板

### 4.1 测试执行记录
```
测试用例ID: [ID]
测试标题: [标题]
执行时间: [时间]
执行结果: [通过/失败]
错误描述: [如有]
截图: [如有]
```

### 4.2 缺陷报告
```
缺陷ID: [ID]
缺陷标题: [标题]
严重程度: [高/中/低]
重现步骤: [详细步骤]
预期结果: [期望结果]
实际结果: [实际结果]
环境信息: [浏览器版本等]
```

## 5. 自动化测试建议

### 5.1 可自动化的测试
- 表单输入验证
- 按钮点击响应
- 数据格式验证
- 页面跳转测试

### 5.2 建议的自动化工具
- **Cypress**: 端到端测试
- **Jest + Vue Test Utils**: 组件单元测试
- **Playwright**: 跨浏览器测试

### 5.3 自动化测试脚本示例
```javascript
// Cypress测试示例
describe('IdentityTest Custom Test', () => {
  it('should fill example data correctly', () => {
    cy.visit('/identity-test')
    cy.get('[data-testid="custom-tab"]').click()
    cy.get('[data-testid="normal-example-btn"]').click()
    cy.get('[data-testid="trans-series-table"]').should('have.length', 3)
  })
})
```

## 6. 测试完成标准

### 6.1 功能完整性
- 所有自定义测试功能正常工作
- 数据输入和验证正确
- 测试执行流程完整
- 结果展示准确

### 6.2 用户体验
- 界面响应及时
- 错误提示清晰
- 操作流程直观
- 加载状态明确

### 6.3 兼容性
- 主流浏览器兼容
- 不同屏幕尺寸适配
- 网络异常处理

## 7. 风险评估

### 7.1 高风险项
- API调用失败处理
- 大数据量处理
- 并发测试稳定性

### 7.2 中风险项
- 数据格式验证
- 用户输入安全
- 性能表现

### 7.3 低风险项
- 界面样式
- 文字显示
- 图标显示

## 8. 后续优化建议

### 8.1 功能增强
- 添加数据导入导出功能
- 增加测试模板管理
- 支持批量参数配置

### 8.2 用户体验优化
- 添加操作引导
- 优化错误提示
- 增加快捷键支持

### 8.3 性能优化
- 大数据量分页处理
- 异步加载优化
- 缓存机制改进 